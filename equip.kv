MDScreen:
    name: 'rapport'

    MDFillRoundFlatIconButton:
        pos_hint:{"center_x":.12,"center_y":.95}
        md_bg_color:'#377BFF'
        icon: 'arrow-left'
        icon_size: '20sp'
        theme_icon_color:'Custom'
        icon_color: 'white'
        text:'Retour'
        theme_text_color:'Custom'
        text_color: 'white'
        font_size: 15
        icon_size: 20
        font_name:"poppins"
        size_hint_x:.2
        on_release:
            root.manager.transition.direction = "right"
            root.manager.current = "centre"
            app.clear_creation_fields('ajout')
            app.reset()

    MDFloatLayout:
        orientation:'vertical'
        md_bg_color: '#377BFF'
        pos_hint:{"center_x": .5, "center_y":.45}
        size_hint: .8,.8
        radius:[20]

        MDBoxLayout:
            md_bg_color:'#F5EC0E'
            size_hint: .4, .1
            pos_hint:{"center_x": .25, "center_y":1}
            radius:[10]
            elevation: 2
            
            MDLabel:
                text: 'Rapport de panne'
                halign:'center'
                font_size: 18
                font_name:"poppins"

    MDFloatLayout:
        orientation: 'horizontal'

        MDFillRoundFlatIconButton:
            id: nav_icon1
            pos_hint:{"center_x":.22,"center_y":.75}
            md_bg_color:'white'
            icon: 'cellphone'
            icon_size: '20sp'
            theme_icon_color:'Custom'
            icon_color: 'black'
            text:'Communication'
            theme_text_color:'Custom'
            text_color: 'black'
            font_size: 15
            font_name:"poppins"
            size_hint: .2, None
            on_release: app.choix(self)

        MDFillRoundFlatIconButton:
            id: nav_icon2
            pos_hint:{"center_x":.41,"center_y":.75}
            md_bg_color:'white'
            icon: './Image/cloud.png'
            icon_size: '20sp'
            theme_icon_color:'Custom'
            icon_color: 'black'
            text:'Méteo'
            theme_text_color:'Custom'
            text_color: 'black'
            font_name:"poppins"
            font_size: 15
            size_hint: .15, None
            on_release:
                app.choix(self)

        MDFillRoundFlatIconButton:
            id: nav_icon3
            pos_hint:{"center_x":.58,"center_y":.75}
            md_bg_color:'white'
            icon: './Image/signal_cellular.png'
            icon_size: '20sp'
            theme_icon_color:'Custom'
            icon_color: 'black'
            text:'Réseau'
            theme_text_color:'Custom'
            text_color: 'black'
            font_name:"poppins"
            font_size: 15
            size_hint: .15, None
            on_release: app.choix(self)

        MDFillRoundFlatIconButton:
            id: nav_icon4
            pos_hint:{"center_x":.775,"center_y":.75}
            md_bg_color:'white'
            icon: './Image/videocam.png'
            icon_size: '20sp'
            theme_icon_color:'Custom'
            icon_color: 'black'
            text:'Surveillance'
            theme_text_color:'Custom'
            text_color: 'black'
            font_name:"poppins"
            font_size: 15
            size_hint: .2, None
            on_release: app.choix(self)

        MDLabel:
            text:"Date de la panne:"
            pos_hint:{"center_x":.63,"center_y":.66}
            font_name: "poppins"
            theme_text_color:'Custom'
            text_color: 'white'
            font_size: 14

        MDTextField:
            id: date
            disabled: True
            mode: 'round'
            hint_text_color_focus: 'black'
            text_color_focus: 'black'
            font_name:"poppins"
            pos_hint:{"center_x":.22,"center_y":.6}
            line_color_focus: 'white'
            fill_color_normal: 'white'
            line_color_normal: 'white'
            size_hint: .2,None

        MDIconButton:
            icon:'./Image/calendar_month.png'
            pos_hint:{"center_x":.3,"center_y":.6}
            on_release: app.show_date_picker()

        MDFloatLayout:
            id: rm
            orientation: 'horizontal'
            pos_hint:{"center_x":.63,"center_y":.51}

            MDLabel:
                id: lab_cat
                text:"Catégorie:"
                pos_hint:{"center_x":.5,"center_y":.51}
                font_name: "poppins"
                theme_text_color:'Custom'
                text_color: 'white'
                font_size: 14
                theme_text_color: 'Custom'

            MDTextField:
                id: cat
                mode: 'round'
                hint_text_color_focus: 'black'
                text_color_focus: 'black'
                theme_text_color: 'Custom'
                font_name:"poppins"
                pos_hint:{"center_x":.09,"center_y":.45}
                line_color_focus: 'white'
                fill_color_normal: '#377BFF'
                line_color_normal: 'white'
                size_hint: .2,None

        MDLabel:
            text:"Nom de l'équipement:"
            pos_hint:{"center_x":.955,"center_y":.66}
            font_name: "poppins"
            theme_text_color:'Custom'
            text_color: 'white'
            font_size: 14

        MDTextField:
            id: nom_equip
            mode: 'round'
            hint_text_color_focus: 'black'
            text_color_focus: 'black'
            font_name:"poppins"
            pos_hint:{"center_x":.65,"center_y":.6}
            line_color_focus: 'white'
            fill_color_normal: 'white'
            line_color_normal: 'white'
            size_hint: .4,None
            radius:[10]

        MDLabel:
            text:"Sous-catégorie:"
            pos_hint:{"center_x":.955,"center_y":.51}
            font_name: "poppins"
            theme_text_color:'Custom'
            text_color: 'white'
            font_size: 14

        MDTextField:
            id: se
            mode: 'round'
            hint_text_color_focus: 'black'
            helper_text: "*Ne rien écrire si il y en a pas"
            helper_text_mode: 'on_focus'
            text_color_focus: 'black'
            font_name:"poppins"
            pos_hint:{"center_x":.65,"center_y":.45}
            line_color_focus: 'white'
            fill_color_normal: 'white'
            line_color_normal: 'white'
            size_hint: .4,None
            radius:[10]

        MDLabel:
            text:"Durée de la panne"
            pos_hint:{"center_x":.63,"center_y":.36}
            font_name: "poppins"
            theme_text_color:'Custom'
            text_color: 'white'
            font_size: 14

        MDFloatLayout:
            pos_hint:{"center_x":.37,"center_y":.3}
            md_bg_color: "white"
            orientation:'horizontal'
            size_hint: .5,.07
            radius:[15]

            MDLabel:
                text:"De:"
                font_name:"poppins"
                pos_hint:{"center_x":.53,"center_y":.49}

            MDTextField:
                id: debut
                mode: 'round'
                hint_text: 'debut'
                hint_text_color_normal: 'white'
                hint_text_color_focus: 'white'
                text_color_normal: 'black'
                text_color_focus: 'black'
                font_name:"poppins"
                pos_hint:{"center_x":.23,"center_y":.495}
                line_color_focus: 'white'
                fill_color_normal: 'white'
                line_color_normal: 'white'
                size_hint: .3,None
                on_focus: app.show_time_picker(self, self.focus)

            MDLabel:
                text:"À:"
                font_name:"poppins"
                pos_hint:{"center_x":1,"center_y":.49}

            MDTextField:
                id:fin
                mode: 'round'
                text_color_focus: 'black'
                text_color_normal: 'black'
                hint_text: 'fin'
                hint_text_color_normal: 'white'
                hint_text_color_focus: 'white'
                font_name:"poppins"
                pos_hint:{"center_x":0.685,"center_y":.495}
                line_color_focus: 'white'
                fill_color_normal: 'white'
                line_color_normal: 'white'
                size_hint: .3,None
                on_focus: app.show_time_picker(self, self.focus)

        MDFillRoundFlatButton:
            pos_hint:{"center_x":.5,"center_y":.13}
            md_bg_color:'white'
            active:True
            text:'Annuler'
            theme_text_color:'Custom'
            text_color: 'black'
            font_name:"poppins"
            font_size: 15
            size_hint: .2,None
            on_release:
                root.manager.current = 'centre'
                root.manager.transition.direction = "right"
                app.clear_creation_fields('ajout')
                app.reset()


        MDFillRoundFlatButton:
            pos_hint:{"center_x":.75,"center_y":.13}
            md_bg_color:'#F5EC0E'
            text:'Enregistrer'
            theme_text_color:'Custom'
            text_color: 'black'
            font_name:"poppins"
            font_size: 15
            size_hint: .2,None
            on_release:
                app.enregistrer(date.text,cat.text,nom_equip.text,se.text,debut.text,fin.text)